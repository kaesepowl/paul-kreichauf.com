<!DOCTYPE html>
<html lang=>

<head>
	<script src="../../../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
	<script src="../../../node_modules/source-map-support/browser-source-map-support.js"></script>
</head>

<body>
	<script type="module">
		//
		import "../header";
	</script>
	<test-fixture id="PkAnimate">
		<template>
			<pk-animate>
				<div class="inner"></div>
			</pk-animate>
		</template>
	</test-fixture>
	<script type="module">
		import "../../../src/components/pk-animate/pk-animate.js";
		//
		suite("<pk-animate></pk-animate>", () => {
			let testElement;
			setup(() => {
				testElement = fixture('PkAnimate');
			});
			test("it has to wrap another element", async () => {
				await testElement.updateComplete;
				assert.isAtLeast(testElement.children.length, 1);
			});
			test("can handle animation end event", async () => {
				await testElement.updateComplete;
				sinon.spy(testElement, "animationEnd");
				const animationContainer = testElement.shadowRoot.getElementById("animateContainer");
				assert.isNotNull(animationContainer);
				animationContainer.dispatchEvent(new Event("animationend"));
				assert(testElement.animationEnd.calledOnce, "animationEnd Method has to be called if event triggered");
			});
		});
	</script>
</body>

</html>